# 1. 运行环境
* Windows系统
* 需要安装Oracle客户端
* 可以使用`sqlplus`
* 可以使用`sqlldr`
# 2. 功能描述
> 提供导出和导入功能
## 2.1. 导出
* 通过`Oracle`的`spool`导出`csv`(逗号分隔符，双引号定界符)格式
* 通过读取`Oracle`自带的`user_tab_cols`表，获取表结构，并且生成建表脚本
* 通过读取`Oracle`自带的`user_tab_cols`表，获取表结构，并且生成`sqlldr`控制文件
## 2.2. 导入
* 使用`Oracle`的`sqlldr`导入数据，需要的建表脚本和控制文件已经在导出时准备好
# 3. 使用方法
## 3.1. 配置
> 配置文件位于`conf`目录中
* `db.ini`
> 用户配置数据库连接
```ini
ora_ip=localhost
ora_port=1521
ora_sid=orcl
ora_uid=scott
ora_pwd=tiger
```
* `list.ini`
> 列出需要导出的表，每行一个表
```ini
EMP
DEPT
```
## 3.2. 运行-导出
1. 运行`initialize.bat`初始化目录
2. 修改`conf\db.ini`配置文件
3. 运行`run_export.bat`导出数据
## 3.3. 运行-导入
1. 运行`run_import.bat`导入
# 4. 导出样例
`DEPT.csv`
```csv
"10","ACCOUNTING","NEW YORK"
"20","RESEARCH","DALLAS"
"30","SALES","CHICAGO"
"40","OPERATIONS","BOSTON"
```
`EMP.csv`
```csv
"7369","SMITH","CLERK","7902","19801217000000","800","","20"
"7499","ALLEN","SALESMAN","7698","19810220000000","1600","300","30"
"7521","WARD","SALESMAN","7698","19810222000000","1250","500","30"
"7566","JONES","MANAGER","7839","19810402000000","2975","","20"
"7654","MARTIN","SALESMAN","7698","19810928000000","1250","1400","30"
"7698","BLAKE","MANAGER","7839","19810501000000","2850","","30"
"7782","CLARK","MANAGER","7839","19810609000000","2450","","10"
"7788","SCOTT","ANALYST","7566","19870419000000","3000","","20"
"7839","KING","PRESIDENT","","19811117000000","5000","","10"
"7844","TURNER","SALESMAN","7698","19810908000000","1500","0","30"
"7876","ADAMS","CLERK","7788","19870523000000","1100","","20"
"7900","JAMES","CLERK","7698","19811203000000","950","","30"
"7902","FORD","ANALYST","7566","19811203000000","3000","","20"
"7934","MILLER","CLERK","7782","19820123000000","1300","","10"
```
